<?xml version="1.0" encoding="utf-8"?>
<openerp>
<data>

<record model="ir.actions.act_url" id="action_account_report_pnl">
    <field name="name">Profit And Loss</field>
    <field name="url" eval="'/account/financial_report/'+str(ref('account_financial_report_profitandloss0'))"/>
    <field name="target">self</field>
</record>
<record model="ir.actions.act_url" id="action_account_report_bs">
    <field name="name">Balance Sheet</field>
    <field name="url" eval="'/account/financial_report/'+str(ref('account_financial_report_balancesheet0'))"/>
    <field name="target">self</field>
</record>
<record model="ir.actions.act_url" id="action_account_report_cs">
    <field name="name">Cash Summary</field>
    <field name="url" eval="'/account/financial_report/'+str(ref('account_financial_report_cashsummary0'))"/>
    <field name="target">self</field>
</record>
<record model="ir.actions.act_url" id="action_account_report_es">
    <field name="name">Executive Summary</field>
    <field name="url" eval="'/account/financial_report/'+str(ref('account_financial_report_executivesummary0'))"/>
    <field name="target">self</field>
</record>
<menuitem id="menu_action_account_report_pnl" name="Profit And Loss" action="action_account_report_pnl" parent="account.menu_finance_legal_statement"/>
<menuitem id="menu_action_account_report_bs" name="Balance Sheet" action="action_account_report_bs" parent="account.menu_finance_legal_statement"/>
<menuitem id="menu_action_account_report_cs" name="Cash Summary" action="action_account_report_cs" parent="account.menu_finance_legal_statement"/>
<menuitem id="menu_action_account_report_es" name="Executive Summary" action="action_account_report_es" parent="account.menu_finance_legal_statement"/>

<template id="report_financial_line">
    <t t-if="a.get('level') == 1 or a.get('level') == 0"><tr style="border-width: 2px; border-style: solid; border-left-style: hidden; border-right-style: hidden;"><td height="22"></td><td t-if="o.debit_credit or context.comparison"></td><td t-if="o.debit_credit or context.comparison"></td><td></td></tr></t>
    <t t-set="trstyle" t-value="'border-width: 0; border-style: solid;'"/>
    <t t-set="style" t-value="'margin-left: 60px'"/>
    <t t-if="a.get('level') == 0"><t t-set="trstyle" t-value="'border-width: 2px; border-style: solid; background-color:#eee; border-left-style: hidden; border-right-style: hidden;'"/></t>
    <t t-if="a.get('level') == 1"><t t-set="trstyle" t-value="'border-width: 2px; border-style: solid; border-left-style: hidden; border-right-style: hidden;'"/></t>
    <t t-if="a.get('level') == 2"><t t-set="style" t-value="'font-weight: bold; margin-left: 30px;'"/><t t-set="trstyle" t-value="'border-width: 1px; border-style: solid; border-left-style: hidden; border-right-style: hidden;'"/></t>
    <t t-if="not a.get('level') &gt; 1"><t t-set="style" t-value="'font-weight: bold;'"/></t>
    <tr t-att-style="trstyle">

        <td>
            <t t-if="a.get('unfoldable') and a.get('unfolded')">
                <span style="position: absolute;" t-att-class="' '.join(['foldable', str(a.get('id'))])"><i class="fa fa-toggle-down"></i></span>
            </t>
            <t t-if="a.get('unfoldable') and not a.get('unfolded')">
                <span style="position: absolute;" t-att-class="' '.join(['unfoldable', str(a.get('id'))])"><i class="fa fa-toggle-right"></i></span>
            </t>
            <t t-if="a['type'] != 'line'"><t t-set="style" t-value="'font-style: italic; margin-left: 100px'"/></t>
            <a t-if="a['type'] == 'account_id'"><span t-att-style="style" t-att-class="' '.join(['account_id', str(a['id'])])" t-esc="a.get('name')"/></a>
            <t t-if="a['type'] != 'account_id'"><span t-att-style="style" t-att-class="a.get('type')" t-esc="a.get('name')"/></t>
        </td>
        <td class="text-right" style="white-space: nowrap;" t-if="o.debit_credit and not context.comparison">
            <span class="annotable" t-att-style="style" t-esc="a.get('debit')"/> <!-- TODO : FormatLang -->
        </td>
        <td class="text-right" style="white-space: nowrap;" t-if="o.debit_credit and not context.comparison">
            <span class="annotable" t-att-style="style" t-esc="a.get('credit')"/>
        </td>
        <td class="text-right" style="white-space: nowrap;">
            <span class="annotable" t-att-style="style" t-esc="a.get('balance')"/>
        </td>
        <td class="text-right" style="white-space: nowrap;" t-if="context.comparison">
            <span class="annotable" t-att-style="style" t-esc="a.get('comparison')"/>
        </td>
        <td class="text-right" style="white-space: nowrap;" t-if="context.comparison">
            <span class="annotable" t-att-style="style" t-esc="a.get('comparison_pc')"/>
        </td>
    </tr>
</template>
<template id="report_financial">
    <t t-call="report.html_container">
        <span class="oe_account_report_widgets">
            <t t-call="account.report_configurator"/>
            <t t-call-assets="web.assets_common" t-css="false" />
            <t t-call-assets="web.assets_backend" t-css="false" />
            <script type="text/javascript" src="/account/static/src/js/account_report_widgets.js"></script>
            <link rel="stylesheet" href="/account/static/src/css/account_financial_report.css" />
            <div t-att-class="' '.join(['page', 'oe_account_report_widgets', str(context.id)])">
                <h2 t-esc="o.name"/>
                <table class="table table-condensed">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th class="text-right" t-if="o.debit_credit and not context.comparison">Debit</th>
                            <th class="text-right" t-if="o.debit_credit and not context.comparison">Credit</th>
                            <th class="text-right">Balance<br /><t t-raw="context.get_balance_date()" /></th>
                            <th class="text-right" t-if="context.comparison">Comparison (value)<br /><t t-raw="context.get_cmp_date()" /></th>
                            <th class="text-right" t-if="context.comparison">Comparison (%)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="lines" t-as="a">
                            <t t-call="account.report_financial_line" />
                        </t>
                    </tbody>
                </table>
            </div>
        </span>
        <div id="footnote-form" class="form-group">
            <form role="form">
                <fieldset>
                    <label for="note"></label>
                    <textarea name="note" id="note" rows='4' class="form-control">Insert foot note here</textarea>

                    <!-- Allow form submission with keyboard without duplicating the dialog button -->
                    <input type="submit" tabindex="-1" class="btn btn-primary" style="position:absolute; top:-1000px" />
                </fieldset>
            </form>
        </div>
    </t>
</template>
</data>
</openerp>
